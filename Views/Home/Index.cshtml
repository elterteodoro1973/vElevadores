
@{
    Layout = null;
}

<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/scripts/jquery-3.4.1.js"></script>
<script src="~/scripts/bootstrap.min.js"></script>
<script src="~/scripts/jquery.mask.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

@using (Html.BeginForm("Logar", "Login", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post,
new { @class = "form-horizontal" }))
{
    @Html.AntiForgeryToken();

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div style="padding-top:70px" class="container">
        <div class="form-login">
            
            <div class="panel panel-default" style="width: 1250px;">
                <div class="panel-heading">
                    <div class="panel-title"> Balanço de elevadores </div>
                </div>

                <div style="padding-top:30px" class="panel-body">
                    <div style="display:none" id="result" class="alert
                    alert-danger col-sm-12">

                    </div>



                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="andarMenosUtilizado" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Andar Menos Utilizado" onclick="BuscarDados('andarMenosUtilizado','AndarMenosUtilizado' )" 
                                   class="btn primary btn-lg" style="width: 380%"/>
                        </div>

                    </div>


                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="elevadorMaisFrequentado" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Elevador Mais Frequentado" onclick="BuscarDados('elevadorMaisFrequentado','ElevadorMaisFrequentado' )" 
                                   class="btn primary btn-lg" style="width: 380%"/>
                        </div>

                    </div>


                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="periodoMaiorFluxoElevadorMaisFrequentado" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Periodo de Maior Fluxo Elevador/MaisFrequentado" 
                                   onclick="BuscarDados('periodoMaiorFluxoElevadorMaisFrequentado','PeriodoMaiorFluxoElevadorMaisFrequentado' )" 
                                   class="btn primary btn-lg" style="width: 380%" />
                        </div>

                    </div>



                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="elevadorMenosFrequentado" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Elevador Menos Frequentado" onclick="BuscarDados('elevadorMenosFrequentado','ElevadorMenosFrequentado' )" 
                                   class="btn primary btn-lg" style="width: 380%"/>
                        </div>

                    </div>



                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="periodoMenorFluxoElevadorMenosFrequentado" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Periodo Menor Fluxo/ElevadorMenosFrequentado" 
                                   onclick="BuscarDados('periodoMenorFluxoElevadorMenosFrequentado','PeriodoMenorFluxoElevadorMenosFrequentado' )" 
                                   class="btn primary btn-lg" style="width: 380%"/>
                        </div>

                    </div>



                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="periodoMaiorUtilizacaoConjuntoElevadores" placeholder="" style="width: 100% ">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar periodo Maior Utilizacao/ConjuntoElevadores" 
                                   onclick="BuscarDados('periodoMaiorUtilizacaoConjuntoElevadores','PeriodoMaiorUtilizacaoConjuntoElevadores' )" class="btn primary btn-lg" style="width: 380%" />
                        </div>

                    </div>


                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="percentualDeUsoElevadorA" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Percentual de uso elevador: A" onclick="BuscarDados('percentualDeUsoElevadorA','PercentualDeUsoElevadorA' )" 
                                   class="btn primary btn-lg" style="width: 380%"/>
                        </div>

                    </div>


                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="percentualDeUsoElevadorB" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Percentual de uso elevador: B" onclick="BuscarDados('percentualDeUsoElevadorB','PercentualDeUsoElevadorB' )" 
                                   class="btn primary btn-lg" style="width: 380%"/>
                        </div>

                    </div>


                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="percentualDeUsoElevadorC" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Percentual de uso elevador: C" onclick="BuscarDados('percentualDeUsoElevadorC','PercentualDeUsoElevadorC' )" 
                                   class="btn primary btn-lg" style="width: 380%"/>
                        </div>

                    </div>

                    <div class="row" style="margin-bottom: 25px; width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="percentualDeUsoElevadorD" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Percentual de uso elevador: D" onclick="BuscarDados('percentualDeUsoElevadorD','PercentualDeUsoElevadorD' )" 
                                   class="btn primary btn-lg"  style="width: 380%"/>
                        </div>

                    </div>

                    <div class="row" style="width: 550px;">

                        <div class="col-xs-8">
                            <input type="text" class="js-meter form-control" id="percentualDeUsoElevadorE" placeholder="" style="width: 100%">
                        </div>


                        <div class="col-xs-4">
                            <input type="button" value="Buscar Percentual de uso elevador: E" onclick="BuscarDados('percentualDeUsoElevadorE','PercentualDeUsoElevadorE' )" 
                                   class="btn primary btn-lg" style="width: 380%" />
                        </div>

                    </div>



                    @*<div style="margin-top:10px" class="form-group">

                        <div class="col-sm-12 controls">
                            <input type="button" value="Buscar Todos" onclick="Logar()" class="btn primary btn-lg" />
                        </div>
                    </div>*@
                </div>
            </div>
        </div>
    </div>
}

<script type="text/javascript">

    $(function () {

        $("#CPF").attr('maxlength', '11');

        $("#Placa").attr('text-transform', 'uppercase');
       
        var options1 = {
            onKeyPress: function (cpf, ev, el, op1) {
                var masks = ['000.000.000-000', '00.000.000/0000-00'];
                $('#CPF').mask((cpf.length > 14) ? masks[1] : masks[0], op1);
            }
        }
        $('#CPF').length > 11 ? $('#CPF').mask('00.000.000/0000-00', options1) : $('#CPF').mask('000.000.000-00#', options1);
                

        var options2 = {
            onKeyPress: function (placa, ev, el, op2) {
                var masks = ['AAA-####', 'AAA-####'];
                $('#Placa').mask((placa.length > 7) ? masks[1] : masks[0], op2);
            }
        }

        $('#Placa').length > 7 ? $('#Placa').mask('AAA-####', options2) : $('#Placa').mask('AAA-####', options2);

        

    })

    function BuscarDados(elemento, path)
    {
        
            $.ajax({
                url: "/Home/" + path,
                type: "post",
                dataType: "json",                
                cache: false,
                success: function (result)
                {
                    if (result.Erro)
                    {
                        //alert(result.erro)
                        Swal.fire(result.Erro);
                    }
                    else
                    {
                        $("#" + elemento).val(result.valor);
                    }
                    
                }
            });
        
    }


</script>
